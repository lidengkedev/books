<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/books/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/books/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/books/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/books/images/logo.svg" color="#222">

<link rel="stylesheet" href="/books/css/main.css">


<link rel="stylesheet" href="/books/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lidengkedev.github.io","root":"/books/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
<meta property="og:type" content="website">
<meta property="og:title" content="个人博客">
<meta property="og:url" content="https://lidengkedev.github.io/books/page/2/index.html">
<meta property="og:site_name" content="个人博客">
<meta property="og:description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="登峰人">
<meta property="article:tag" content="JavaScript,HTML,CSS,Vue,React,NodeJs,Nginx,Linux,MySQL,Vite,Webpack,Echarts,Three">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://lidengkedev.github.io/books/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>个人博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/books/atom.xml" title="个人博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/books/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">个人博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一个专注技术的组织</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/books/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/books/tags/" rel="section"><i class="tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/books/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/books/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/lidengkedev/books.git" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/%E4%BC%AA%E9%9D%99%E6%80%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/%E4%BC%AA%E9%9D%99%E6%80%81/" class="post-title-link" itemprop="url">伪静态</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 19:11:44 / 修改时间：19:34:47" itemprop="dateCreated datePublished" datetime="2022-07-01T19:11:44+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/seo/" itemprop="url" rel="index"><span itemprop="name">seo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="伪静态"><a href="#伪静态" class="headerlink" title="伪静态"></a>伪静态</h1><h2 id="什么是伪静态？"><a href="#什么是伪静态？" class="headerlink" title="什么是伪静态？"></a>什么是伪静态？</h2><p>伪静态就是网站本身是动态网页，转换成类似于静态的网页。如.php、.asp、.aspx等格式动态网页有时这类动态网页地址后跟“?”加参数来读取数据库内不同资料。</p>
<blockquote>
<p>伪静态作用</p>
</blockquote>
<p>很典型的案例即是discuz论坛系统，后台就有一个设置伪静态功能，开启伪静态后，动态网页即被转换重写成静态网页类型页面，通过浏览器访问地址和真的静态页面没区别。</p>
<p>前提服务器支持伪静态重写URL Rewrite功能。</p>
<blockquote>
<p>需要伪静态功能地方</p>
</blockquote>
<p>考虑搜索引擎优化SEO，将动态网页通过服务器处理成静态页面，如www.xxx.com/jk/fd.php?=12这样的动态网页处理成www.xxx.com/jk-fd-12.html这样格式静态页面，常见的论坛帖子页面，都是经过伪静态处理成静态页面格式html页面。</p>
<p>考虑网站所用的程序语言不易被发现，经过重写来伪静态来将动态网页的程序后缀变为html的静态页面格式。</p>
<h2 id="伪静态的利与弊"><a href="#伪静态的利与弊" class="headerlink" title="伪静态的利与弊"></a>伪静态的利与弊</h2><p>当然犹如一篇文章的作者所说的：”如果流量稍大一些使用伪静态就出现CPU使用超负荷，我的同时在线300多人就挂了，而不使用伪静态的时候同时在线超500人都不挂，我的IIS数是1000。”</p>
<p>确实是这样的，由于伪静态是用正则判断而不是真实地址，分辨到底显示哪个页面的责任也由直接指定转由CPU来判断了，所以CPU占有量的上升，确实是伪静态最大的弊病。</p>
<p>我们应该选择伪静态还是真静态？</p>
<ol>
<li>使用真静态和假静态对SEO来说没有什么区别</li>
<li>使用真静态可能将导致硬盘损坏并将影响论坛性能</li>
<li>使用伪静态将占用一定量的CPU占有率，大量使用将导致CPU超负荷</li>
<li>最重要的一点，我们要静态是为了SEO</li>
</ol>
<p>所以</p>
<ol>
<li>使用真静态的方法可以直接排除了，因为无论怎么生成，对硬盘来说都是很伤的。</li>
<li>既然真伪静态的效果一样，我们就可以选择伪静态了。</li>
<li>但是伪静态大量使用会造成CPU超负荷。</li>
<li>所以我们只要不大量使用就可以了。</li>
<li>既然静态只是给SEO看的，我们只需要伪静态给SEO就行了，不需要给用户使用。</li>
<li>所以我们只要在专门提供给SEO爬的Archiver中使用伪静态就可以了。</li>
</ol>
<p>真正的静态化和伪静态还是有本质的区别的。</p>
<p>为浏览用户处理一个纯粹htm和一个调用多个数据的php在CPU的使用率方面明显前者少。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/seo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/seo/" class="post-title-link" itemprop="url">SEO</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 19:10:26 / 修改时间：19:32:41" itemprop="dateCreated datePublished" datetime="2022-07-01T19:10:26+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/seo/" itemprop="url" rel="index"><span itemprop="name">seo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="SEO"><a href="#SEO" class="headerlink" title="SEO"></a>SEO</h1><h2 id="前端优化"><a href="#前端优化" class="headerlink" title="前端优化"></a>前端优化</h2><p>据一项研究表明：用户最满意的打开网页时间是2-5秒，如果等待超过10秒，99%的用户会关闭这个网页。</p>
<p>在TCP握手之前要进行DNS查询，也就是域名地址解析，DNS解析也是需要时间的，可以通过预解析的方式来预先获得域名所对应的IP。如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;dns-prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://example.com&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>比较耗时的操作，<br>比如HTTP的请求，每一个link、img、script标签都会向服务器发送请求，<br>而每一个浏览器同时向同一台服务器发送请求的个数是有限制的，请求次数越多浏览器承受的压力就越大，自然效率就越低。</p>
<p>对于图片资源应该这么做：</p>
<ul>
<li>对于简单的图片如三角形、矩形等能用css实现的就用样式实现。</li>
<li>把常用的图标打成iconfont来使用。</li>
<li>由于浏览器限制了向同一台服务器同时发送请求的次数，所以尽量把图片资源放在多台CDN上，这里不限制图片，js和css等静态资源同样适用。</li>
<li>对于小图片用base64编码后直接使用编码文本。</li>
<li>使用CSS Sprites技术来将图片资源合并成雪碧图，webpack有这样的插件，或者到github上下载一个。</li>
<li>多图片列表展示完全可以使用懒加载技术来控制图片的加载。</li>
<li>选择正确的图片格式：WebP、PNG、JPEG。</li>
</ul>
<p>如果把样式表放在文档底部浏览器会重绘页面元素，阻塞内容逐步呈现，从而造成白屏。js文件的加载会阻塞DOM树的构建，也可能会导致白屏的出现。</p>
<p>当script标签上加上defer属性以后，表示该JS文件会并行下载，但是会放到HTML解析完成后顺序执行，而script标签加上async属性以后，表示加载和渲染后续文档元素的过程将和JS文件的加载与执行并行进行。所以：</p>
<ul>
<li>样式表放在头部</li>
<li>脚本放在底部</li>
</ul>
<p>事件的三个阶段：捕获阶段、目标阶段、冒泡阶段</p>
<p>在绑定事件的时候要多使用事件委托而不是直接使用事件绑定，这样会大大提高事件的效率。如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;ul&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>222<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>333<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>444<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>希望在点击每个li的时候可以输出该标签的内容，使用事件委托：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ul&#x27;</span>).<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> event = event || <span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line">	<span class="keyword">var</span> target = event.<span class="property">target</span> || event.<span class="property">srcElement</span>;</span><br><span class="line">	<span class="keyword">if</span> (target.<span class="property">nodeName</span>.<span class="title function_">toLowerCase</span>() == <span class="string">&#x27;li&#x27;</span>) &#123;</span><br><span class="line">		<span class="title function_">alert</span>(target.<span class="property">innerHTML</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>过高的触发率会导致响应速度跟不上触发频率，出现延迟，假死或者卡顿的显现，对于触发频率比较高的函数使用节流来限制，保证一定时间内核心代码只执行一次。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 节流，每隔一点时间执行一次</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span> (fn, wait) &#123;</span><br><span class="line">	<span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">			timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">				fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">0</span>));</span><br><span class="line">				timer = <span class="literal">null</span>;</span><br><span class="line">			&#125;, wait);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现输入框输入文本自动联想匹配结果，用户每次在keypress的时候都要异步请求接口，造成资源浪费，最好是等用户输入完了再进行请求，可以写一个防抖函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 防抖，只执行最后一次</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span> (fn, wait) &#123;</span><br><span class="line">	<span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">		timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">			fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">0</span>));</span><br><span class="line">		&#125;, wait);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>DOM操作的优化：</p>
<ul>
<li>避免频繁的DOM操作，尽量将操作合并在一起一次性操作。</li>
<li>使用class来替代样式的变更</li>
<li>使用css动画来代替js动画</li>
<li>使用requestAnimationFrame 来替代setInterval操作动画</li>
</ul>
<p>这么做的目的都是为了减少浏览器的重绘与回流，requestAnimationFrame 最大的优势是由系统来决定回调函数的执行时机，<br>具体一点讲，<br>如果屏幕刷新率是60Hz，那么回调函数就是16.7ms执行一次，如果刷新率是75Hz，那么这个时间间隔就会变成1000/75=13.3ms，<br>换句话说就是，requestAnimationFrame的步伐跟着系统的刷新步伐走，它能保证回调函数在屏幕每一次的刷新间隔中只执行一次，这样就不会引起丢丢频现象，也不会导致动画出现卡顿的问题。</p>
<p>css写法要遵循下面的原则：</p>
<ul>
<li>正确使用css前缀，以解决浏览器的兼容性</li>
<li>对于可继承的属性尽量使用继承</li>
<li>避免css选择器嵌套过深，影响性能</li>
<li>css reset的内容以及基本内容要单独提取出来方便所有页面公用</li>
</ul>
<p>在构建的时候要遵循：</p>
<ul>
<li>js混淆</li>
<li>资源压缩，包括js、css、html和图片压缩</li>
<li>对于单页面应用要考虑公共代码的提取和分离，可以充分利用路由做到按需加载</li>
</ul>
<p>利用浏览器的缓存站点资源的功能来优化网站，减少不必要的流量开支。</p>
<p>可以通过hash来命名资源文件，只有内容发生改动的文件hash才会改变，这样对于不变的文件浏览器就可以从本地缓存读取。</p>
<p>还可以借助http缓存，利用服务端来设置缓存策略，常见的缓存策略有<strong>强制缓存</strong>(Cache-Control、Expires)和<strong>协商缓存</strong>(Etag、Last-Modified),通过设置不同的header来达到控制浏览器缓存的目的。</p>
<p>要注意防止XXS和SRF攻击</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/webpack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/webpack/" class="post-title-link" itemprop="url">Webpack</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 19:09:04 / 修改时间：19:32:31" itemprop="dateCreated datePublished" datetime="2022-07-01T19:09:04+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/webpack/" itemprop="url" rel="index"><span itemprop="name">webpack</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h1><h2 id="问题汇总"><a href="#问题汇总" class="headerlink" title="问题汇总"></a>问题汇总</h2><blockquote>
<p>webpack 在打包构建时<code>-webkit-box-orient: verical;</code>会被删除掉</p>
</blockquote>
<p>原因是<code>optimize-css-assets-webpack-plugin</code>这个插件的问题</p>
<p>解决方式:可以使用如下写法<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="comment">/*! autoprefixer: off */</span></span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">    <span class="comment">/*! autoprefixer: on */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/vue/ssr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/vue/ssr/" class="post-title-link" itemprop="url">VUE SSR 服务端渲染</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 19:07:35 / 修改时间：19:34:55" itemprop="dateCreated datePublished" datetime="2022-07-01T19:07:35+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/vue/" itemprop="url" rel="index"><span itemprop="name">vue</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="VUE-SSR-服务端渲染"><a href="#VUE-SSR-服务端渲染" class="headerlink" title="VUE SSR 服务端渲染"></a>VUE SSR 服务端渲染</h1><h2 id="创建一个新项目"><a href="#创建一个新项目" class="headerlink" title="创建一个新项目"></a>创建一个新项目</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack-simple vue-ssr-example</span><br></pre></td></tr></table></figure>
<h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> vue-ssr-example</span><br><span class="line"></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line"></span><br><span class="line">yarn</span><br></pre></td></tr></table></figure>
<h2 id="安装服务端插件"><a href="#安装服务端插件" class="headerlink" title="安装服务端插件"></a>安装服务端插件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install express vue-server-renderer</span><br><span class="line"></span><br><span class="line">npm install vue-ssr-webpack-plugin -D</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line"></span><br><span class="line">yarn add express vue-server-renderer</span><br><span class="line"></span><br><span class="line">yarn add vue-webpack-plugin</span><br></pre></td></tr></table></figure>
<h2 id="开始部署"><a href="#开始部署" class="headerlink" title="开始部署"></a>开始部署</h2><h3 id="配置主函数"><a href="#配置主函数" class="headerlink" title="配置主函数"></a>配置主函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/main.server.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Receives the context of the render call, returning a Promise resolution to the root Vue instance.</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> context =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">            <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="配置入口文件"><a href="#配置入口文件" class="headerlink" title="配置入口文件"></a>配置入口文件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>vue-ssr-example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- vue-ssr-outlet --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/dist/build.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="配置打包工具"><a href="#配置打包工具" class="headerlink" title="配置打包工具"></a>配置打包工具</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Load the Vue SSR plugin. Don`t forget this. :P</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// The target should be set to &quot;node&quot; avoid packaging build-ins.</span></span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;node&#x27;</span>,</span><br><span class="line">    <span class="comment">// The entry should be our server entry file, not the default one.</span></span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;./src/main.server.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./dist&#x27;</span>),</span><br><span class="line">        <span class="attr">pubilcPath</span>: <span class="string">&#x27;/dist/&#x27;</span>,</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;build.js&#x27;</span>,</span><br><span class="line">        <span class="comment">// Outputs node-compatible modules instead of browser-compatible.</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&#x27;commonjs2&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;vue-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">                <span class="attr">loaders</span>: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|jpeg|gif|svg)$/</span>,</span><br><span class="line">                <span class="attr">loader</span>: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">                <span class="attr">options</span>: &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;[name].[ext]?[hash]&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="attr">alias</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;vue$&#x27;</span>: <span class="string">&#x27;vue/dist/vue.esm.js&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// We can remove the devServer block.</span></span><br><span class="line">    <span class="attr">performance</span>: &#123;</span><br><span class="line">        <span class="attr">hints</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// Aviods bundling external dependencies, so node can load them directly from node_modules</span></span><br><span class="line">    <span class="attr">externals</span>: <span class="title class_">Object</span>.<span class="title function_">keys</span>(<span class="built_in">require</span>(<span class="string">&#x27;./package.json&#x27;</span>).<span class="property">dependencies</span>),</span><br><span class="line">    <span class="attr">devtool</span>: <span class="string">&#x27;source-map&#x27;</span>,</span><br><span class="line">    <span class="comment">// No need to put these behind a production env variable.</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// Add the SSR plugin here.</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">VueSSRPlugin</span>(),</span><br><span class="line">        <span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">            <span class="string">&#x27;process.env&#x27;</span>: &#123;</span><br><span class="line">                <span class="attr">NODE_ENV</span>: <span class="string">&#x27;&quot;production&quot;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> webpack.<span class="property">optimize</span>.<span class="title class_">UglifyJsPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">sourceMap</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">compress</span>: &#123;</span><br><span class="line">                <span class="attr">warnings</span>: <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> webpack.<span class="title class_">LoaderOptionsPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">minimize</span>: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="配置启动脚本"><a href="#配置启动脚本" class="headerlink" title="配置启动脚本"></a>配置启动脚本</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run build:server &amp;&amp; npm run build:client&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;build:client&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=production webpack --proress --hide-modules&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;build:server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=production webpack --config webpack.server.config.js --pregress --hide-modules&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    ...</span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="配置服务API"><a href="#配置服务API" class="headerlink" title="配置服务API"></a>配置服务API</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#!user/bin/env node</span><br><span class="line"></span><br><span class="line"><span class="comment">// server.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; createBundleRenderer &#125; = <span class="built_in">require</span>(<span class="string">&#x27;vue-server-renderer&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bundleRenderer = <span class="title function_">createBundleRenderer</span>(</span><br><span class="line">    <span class="comment">// Load the SSR bundle width require.</span></span><br><span class="line">    <span class="built_in">require</span>(<span class="string">&#x27;./dist/vue-ssr-bundle.json&#x27;</span>),</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Yes, I know, readFileSync is bad practice. It is just shorter to read here.</span></span><br><span class="line">        <span class="attr">template</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./index.html&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create the express app.</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Server static assets from ./dist on the /dist route.</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/dist&#x27;</span>, express.<span class="title function_">static</span>(<span class="string">&#x27;dist&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Render all other routes width the bundleRenderer.</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;*&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    bundleRenderer</span><br><span class="line">    <span class="comment">// Renders directly to the response stream.</span></span><br><span class="line">    <span class="comment">// The argument is passed as &quot;context&quot; to main.server.js in the SSR bundle.</span></span><br><span class="line">    .<span class="title function_">renderToStream</span>(&#123; <span class="attr">url</span>: req.<span class="property">path</span> &#125;)</span><br><span class="line">    .<span class="title function_">pipe</span>(res);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Bind the app to this port.</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>);</span><br></pre></td></tr></table></figure>
<h3 id="启动项目"><a href="#启动项目" class="headerlink" title="启动项目"></a>启动项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Build client and server bundles</span></span><br><span class="line">$ npm run build</span><br><span class="line"></span><br><span class="line"><span class="comment"># Run the HTTP server</span></span><br><span class="line">$ node ./server.js</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/linux/" class="post-title-link" itemprop="url">Linux</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 19:06:05 / 修改时间：19:32:55" itemprop="dateCreated datePublished" datetime="2022-07-01T19:06:05+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><h2 id="命令编辑及光标移动"><a href="#命令编辑及光标移动" class="headerlink" title="命令编辑及光标移动"></a>命令编辑及光标移动</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ctrl + u    : 删除从开头到光标处的命令文本</span><br><span class="line">ctrl + k    : 删除从光标到结尾处的命令文本</span><br><span class="line">ctrl + a    : 光标移动到命令开头</span><br><span class="line">ctrl + e    : 光标移动到命令结尾</span><br><span class="line">alt + f     : 光标向前移动一个单词</span><br><span class="line">alt + b     : 光标向前移动一个单词</span><br><span class="line">atrl + w    : 删除一个词（以空格隔开的字符串）</span><br></pre></td></tr></table></figure>
<h2 id="历史命令快速执行"><a href="#历史命令快速执行" class="headerlink" title="历史命令快速执行"></a>历史命令快速执行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + r : 搜索执行过得命令</span><br></pre></td></tr></table></figure>
<h2 id="部分历史命令查看"><a href="#部分历史命令查看" class="headerlink" title="部分历史命令查看"></a>部分历史命令查看</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># history 会显示大量的历史命令，而fs -l只会显示部分</span></span><br><span class="line"></span><br><span class="line">$ fs -l</span><br></pre></td></tr></table></figure>
<h2 id="实时查看日志"><a href="#实时查看日志" class="headerlink" title="实时查看日志"></a>实时查看日志</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tail -f 加文件名，可以实时显示日志文件内容</span></span><br><span class="line"><span class="comment"># 使用 less 命令查看文件内容，并且使用 shift + f 键，也可以达到类似的效果</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">tail</span> -f filename.log</span><br></pre></td></tr></table></figure>
<h2 id="磁盘或者内存情况查看"><a href="#磁盘或者内存情况查看" class="headerlink" title="磁盘或者内存情况查看"></a>磁盘或者内存情况查看</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 df 命令可以快速查看各挂载路径磁盘占用情况</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">df</span> -h</span><br><span class="line">/dev/sda14   4.6G   10M     4.4G    1%</span><br><span class="line">/dev/sda11   454M  366M      61M   86%</span><br><span class="line">/dev/sda15    55G   18G      35G   35%</span><br></pre></td></tr></table></figure>
<p>如果已经知道home目录占用空间较大了，想知道home目录下各个目录占用情况：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这里指定了路径的深度，否则的话，它会递归统计子目录占用空间大小</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">du</span> -h --max-depth=1 /home(或者-d 1)</span><br><span class="line">18G     /home/hyb</span><br><span class="line">16K     /home/lost+fund</span><br><span class="line">18G     /home/</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当前内存的使用情况</span></span><br><span class="line"><span class="comment"># 通过free的结果，很容易看到当前总共内容多少，剩余可用内存多少</span></span><br><span class="line"></span><br><span class="line">$ free -h</span><br><span class="line">            total     used</span><br><span class="line">Mem:        7.7G      3.5G</span><br><span class="line">Swap:       7.6G        0B</span><br></pre></td></tr></table></figure>
<p>使用 -h 参数：</p>
<p>-h 参数的作用是使得结果以人类可读的方式呈现</p>
<h2 id="根据名字查找进程"><a href="#根据名字查找进程" class="headerlink" title="根据名字查找进程"></a>根据名字查找进程</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hello 是进程名</span></span><br><span class="line"></span><br><span class="line">$ pgrep hello</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line"></span><br><span class="line">$ pidof hello</span><br></pre></td></tr></table></figure>
<h2 id="根据名称杀死进程"><a href="#根据名称杀死进程" class="headerlink" title="根据名称杀死进程"></a>根据名称杀死进程</h2><p>一般我们可以使用 kill -9 pid 方式杀死一个进程，但是这样就需要先找到这个进程的进程id，实际上我们也可以直接根据名称杀死进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ killall hello</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line"></span><br><span class="line">$ pkill hello</span><br></pre></td></tr></table></figure>
<h2 id="查看进程运行时间"><a href="#查看进程运行时间" class="headerlink" title="查看进程运行时间"></a>查看进程运行时间</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -p 24525 -o lstart.etime</span><br><span class="line">                 STARTED    ELAPSED</span><br><span class="line">Sat Mar 23 20:52:08 2019      02:45</span><br></pre></td></tr></table></figure>
<h2 id="快速目录切换"><a href="#快速目录切换" class="headerlink" title="快速目录切换"></a>快速目录切换</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 回到上一个目录</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> -</span><br><span class="line"></span><br><span class="line"><span class="comment"># 回到用户家目录</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> </span><br></pre></td></tr></table></figure>
<h2 id="多条命令执行"><a href="#多条命令执行" class="headerlink" title="多条命令执行"></a>多条命令执行</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果当前目录是 / 目录，并且 /temp/log目录不存在，那么就会</span></span><br><span class="line"><span class="comment"># bash: cd: /temp/log: No such file or directory (突然陷入沉默)</span></span><br><span class="line"><span class="comment"># 因为 ; 可以执行多条命令，但是不会因为前一条命令失败而导致后面的不会执行</span></span><br><span class="line"><span class="comment"># 因此，cd 执行失败后，仍然会继续执行 rm -rf *</span></span><br><span class="line"><span class="comment"># 解决方案是：cd /temp/log&amp;&amp;rm -rf *</span></span><br><span class="line"><span class="comment"># 这样就会确保前面一条命令执行成功，才会执行后面一条</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> /temp/log/;<span class="built_in">rm</span> -rf *</span><br></pre></td></tr></table></figure>
<h2 id="查看压缩日志文件"><a href="#查看压缩日志文件" class="headerlink" title="查看压缩日志文件"></a>查看压缩日志文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ zcat test.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line"></span><br><span class="line">$ zless test.gz</span><br></pre></td></tr></table></figure>
<h2 id="删除乱码文件"><a href="#删除乱码文件" class="headerlink" title="删除乱码文件"></a>删除乱码文件</h2><p>无论是自已意外创建还是程序异常创建，难免会出现一些命令奇怪或者乱码文件，可以选择删除Linux中特殊名称文件的多种方式</p>
<p>对于特殊字符，如&lt;&gt;!*等组成的文件如何删除呢？如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">rm</span> &lt;&gt;\!*</span><br><span class="line"><span class="built_in">rm</span> missing operand</span><br><span class="line">Try <span class="string">&#x27;rm --help&#x27;</span> <span class="keyword">for</span> more infomation.</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于这种类型文件，需要用引号将文件名包含起来</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">rm</span> <span class="string">&quot;&lt;&gt;\!*&quot;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="清空文件内容"><a href="#清空文件内容" class="headerlink" title="清空文件内容"></a>清空文件内容</h2><p>比如有一个大文件，你想快速删除，或者不想删除，但是想清空内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;filename</span><br></pre></td></tr></table></figure>
<h2 id="将日志同时记录文件并打印到控制台"><a href="#将日志同时记录文件并打印到控制台" class="headerlink" title="将日志同时记录文件并打印到控制台"></a>将日志同时记录文件并打印到控制台</h2><p>在执行shell脚本，常常会将日志重定向，但是这样的话，控制台就没有打印了，如何使用技能记录日志文件，又能将日志输出到控制台呢？</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./test.sh |<span class="built_in">tee</span> test.log</span><br></pre></td></tr></table></figure>
<h2 id="终止并回复进程执行"><a href="#终止并回复进程执行" class="headerlink" title="终止并回复进程执行"></a>终止并回复进程执行</h2><p>我们使用 ctrl + Z 暂停一个进程的执行，也可以使用fg恢复执行。例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> filename</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当我们发现文件过多的时候，使用 ctrl + z 暂停程序，</span></span><br><span class="line"><span class="comment"># 而如果又想要从刚才的地方继续执行，则只需要使用fg命令即可恢复执行。</span></span><br><span class="line"><span class="comment"># 或者使用bg使得进程继续在后台执行</span></span><br></pre></td></tr></table></figure>
<h2 id="计算程序运行时间"><a href="#计算程序运行时间" class="headerlink" title="计算程序运行时间"></a>计算程序运行时间</h2><p>我们可能会用进程写一些小程序，并想知道它的运行时间，实际上我们可以很好的利用 time 命令帮我们计算，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 它会显示系统时间，用户时间以及实际使用的总时间</span></span><br><span class="line"></span><br><span class="line">$ time ./fibo 30</span><br><span class="line">the 30 result is 832040</span><br><span class="line"></span><br><span class="line">real    0m0.088s</span><br><span class="line">user    0m0.084s</span><br><span class="line">sys     0m0.004s</span><br></pre></td></tr></table></figure>
<h2 id="查看内存占用前10的进程"><a href="#查看内存占用前10的进程" class="headerlink" title="查看内存占用前10的进程"></a>查看内存占用前10的进程</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -aux|<span class="built_in">sort</span> -k4nr |<span class="built_in">head</span> -n 10</span><br></pre></td></tr></table></figure>
<h2 id="快速查找你需要的命令"><a href="#快速查找你需要的命令" class="headerlink" title="快速查找你需要的命令"></a>快速查找你需要的命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ man -k <span class="string">&quot;copy files&quot;</span></span><br><span class="line"><span class="built_in">cp</span> (1)          - copy files and directories</span><br><span class="line">cpio (1)        - copy files to and from archives</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -k 参数，使得与 copy files 相关的帮助手册都显示出来了</span></span><br></pre></td></tr></table></figure>
<h2 id="命令行下复制粘贴"><a href="#命令行下复制粘贴" class="headerlink" title="命令行下复制粘贴"></a>命令行下复制粘贴</h2><p>我们知道，在命令行下，复制不能再是 ctrl + c 了，因为它表示终止当前进程，而控制台下的复制粘贴需要使用下面的快捷键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ctrl + insert</span><br><span class="line">shift + insert</span><br></pre></td></tr></table></figure>
<h2 id="搜索包含某个字符串的文件"><a href="#搜索包含某个字符串的文件" class="headerlink" title="搜索包含某个字符串的文件"></a>搜索包含某个字符串的文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在当前目录下查找包含test字符串的文件</span></span><br><span class="line"></span><br><span class="line">$ grep -rn <span class="string">&quot;test&quot;</span></span><br><span class="line">test2.txt:1:<span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 它可以找到该字符串在哪个文件的第几行</span></span><br></pre></td></tr></table></figure>
<h2 id="屏幕冻结"><a href="#屏幕冻结" class="headerlink" title="屏幕冻结"></a>屏幕冻结</h2><p>程序运行时，终端可能输出大量日志，你想简单查看一下，又不想记录日志文件，此时可以使用 ctrl + s 键，冻结屏幕，使得日志不再继续输出，如果想要恢复，可以使用 ctrl + q 退出冻结。</p>
<h2 id="无编辑器情况下编辑文本文件"><a href="#无编辑器情况下编辑文本文件" class="headerlink" title="无编辑器情况下编辑文本文件"></a>无编辑器情况下编辑文本文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> &gt;file.txt</span><br><span class="line">some words</span><br><span class="line">(ctrl + d)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编辑完成后， ctrl + d 即可保存</span></span><br></pre></td></tr></table></figure>
<h2 id="查看-elf-文件"><a href="#查看-elf-文件" class="headerlink" title="查看 elf 文件"></a>查看 elf 文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看elf文件头信息</span></span><br><span class="line"></span><br><span class="line">$ readelf -n filename</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看库中是否包含某个接口</span></span><br><span class="line"><span class="comment"># 这里是从文件 filename 中查看是否包含interface接口，前提是该文件包含符号表</span></span><br><span class="line"></span><br><span class="line">$ nm filename |grep interface</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/js/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/js/index/" class="post-title-link" itemprop="url">知识点汇总</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 19:04:22 / 修改时间：19:35:34" itemprop="dateCreated datePublished" datetime="2022-07-01T19:04:22+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="JavaScript知识点汇总"><a href="#JavaScript知识点汇总" class="headerlink" title="JavaScript知识点汇总"></a>JavaScript知识点汇总</h1><h2 id="JS-的数据类型"><a href="#JS-的数据类型" class="headerlink" title="JS 的数据类型"></a>JS 的数据类型</h2><p>基本类型：</p>
<ul>
<li>Undefined</li>
<li>Null</li>
<li>Boolean</li>
<li>Number</li>
<li>String</li>
<li>Symbol (ES6新增)</li>
</ul>
<p>引用类型：</p>
<ul>
<li>Object</li>
<li>Array</li>
<li>Function</li>
</ul>
<h3 id="基本类型和引用类型的区别"><a href="#基本类型和引用类型的区别" class="headerlink" title="基本类型和引用类型的区别"></a>基本类型和引用类型的区别</h3><p>基本类型和引用类型存储内存的位置不同，基本类型直接存储在栈中，而引用类型存储在堆中，同时在栈中存储了指针，而这个指针指向正式堆中实体的起始位置。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> b = a</span><br><span class="line">b = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// a，b都是值类型，两者分别赋值，相互之间没有任何影响</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引用类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">x</span>: <span class="number">10</span>, <span class="attr">y</span>: <span class="number">20</span> &#125;</span><br><span class="line"><span class="keyword">var</span> b = a</span><br><span class="line">b.<span class="property">x</span> = <span class="number">100</span></span><br><span class="line">b.<span class="property">y</span> = <span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// &#123; x: 100, y: 200 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// &#123; x: 100, y: 200 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// a,b都是引用类型，</span></span><br><span class="line"><span class="comment">// 在执行b=a之后，修改b的属性值，a的属性值也跟着变化</span></span><br><span class="line"><span class="comment">// 因为a和b都是引用类型，指向了同一个内存地址，</span></span><br><span class="line"><span class="comment">// 即两者引用的是同一个值，</span></span><br><span class="line"><span class="comment">// 因此修改b属性时，a的值也随之改变了。</span></span><br></pre></td></tr></table></figure>
<h3 id="数据类型判断"><a href="#数据类型判断" class="headerlink" title="数据类型判断"></a>数据类型判断</h3><blockquote>
<p>typeof</p>
</blockquote>
<p>typeof返回一个表示数据类型的字符串，返回结果包括：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;number&quot;</span></span><br><span class="line"><span class="string">&quot;string&quot;</span></span><br><span class="line"><span class="string">&quot;boolean&quot;</span></span><br><span class="line"><span class="string">&quot;symbol&quot;</span></span><br><span class="line"><span class="string">&quot;object&quot;</span></span><br><span class="line"><span class="string">&quot;undefined&quot;</span></span><br><span class="line"><span class="string">&quot;function&quot;</span></span><br></pre></td></tr></table></figure><br>7种数据类型，但是不能判断 <code>null</code>、<code>array</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="title class_">Symbol</span>()         <span class="comment">// symbol</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;&#x27;</span>               <span class="comment">// string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">1</span>                <span class="comment">// number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span>             <span class="comment">// boolean</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>        <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">Function</span>()   <span class="comment">// function</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>             <span class="comment">// object</span></span><br><span class="line"><span class="keyword">typeof</span> []               <span class="comment">// object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">Date</span>()       <span class="comment">// object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">RegExp</span>()     <span class="comment">// object</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>instanceof</p>
</blockquote>
<p>instanceof 是用来判断A是否是B的实例，表达式为：<code>A instanceof B</code>,如果A是B的实例则返回<code>true</code>,否则返回<code>false</code></p>
<p>instanceof 运算符用来测试一个对象在器原型链中是否存在一个构造函数的<code>prototype</code>属性，但是它不能检测<code>null</code>和<code>undefined</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[] <span class="keyword">instanceof</span> <span class="title class_">Array</span>             <span class="comment">// true</span></span><br><span class="line">&#123;&#125; <span class="keyword">instanceof</span> <span class="title class_">Object</span>            <span class="comment">// true</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>() <span class="keyword">instanceof</span> <span class="title class_">Date</span>      <span class="comment">// true</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">RegExp</span>() <span class="keyword">instanceof</span> <span class="title class_">RegExp</span>  <span class="comment">// true</span></span><br><span class="line"><span class="literal">null</span> <span class="keyword">instanceof</span> <span class="title class_">Null</span>            <span class="comment">// 报错</span></span><br><span class="line"><span class="literal">undefined</span> <span class="keyword">instanceof</span> <span class="literal">undefined</span>  <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>严格运算符 ===</p>
</blockquote>
<p>只能用于判断 null 和 undefined ,因为这两种类型的值都是唯一的</p>
<blockquote>
<p>constructor</p>
</blockquote>
<p>constructor 作用和 instanceof 非常相似，但是constructor 检测 Object 与 instanceof 不一样，还可以处理基本数据类型的检测</p>
<p>不过函数的 contructor 是不稳定的，这个主要体现在把类的原型进行重写，在重写的过程中很有可能出现把之前的 contructor 给覆盖了， 这样检测出来的结果就是不准确的。</p>
<blockquote>
<p>Object.prototype.toString.call()</p>
</blockquote>
<p>Object.prototype.toString.call()最准确最常用的方式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="string">&#x27;&#x27;</span>)              <span class="comment">// [object String]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="number">1</span>)               <span class="comment">// [object Number]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">true</span>)            <span class="comment">// [object Boolean]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">undefined</span>)       <span class="comment">// [object Undefined]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">null</span>)            <span class="comment">// [Object Null]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Function</span>())  <span class="comment">// [object Function]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())      <span class="comment">// [object Date]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>([])              <span class="comment">// [object Array]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>())    <span class="comment">// [object RegExp]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Error</span>())     <span class="comment">// [object Error]</span></span><br></pre></td></tr></table></figure>
<h3 id="浅拷贝和深拷贝"><a href="#浅拷贝和深拷贝" class="headerlink" title="浅拷贝和深拷贝"></a>浅拷贝和深拷贝</h3><p>浅拷贝只复制某一个对象的指针，而不是复制对象本身，新旧对象还是共享同一块内存。</p>
<p>浅拷贝的实现方式：</p>
<ul>
<li>Object.assign(): 需要注意的是目标对象只有一层的时候是深拷贝</li>
<li>Array.prototype.concat()</li>
<li>Array.prototype.slice()</li>
</ul>
<p>深拷贝就是在拷贝数据的时候，将数据的所有引用结构都拷贝一份。</p>
<p>简单的来说就是：在内存中存在两个数据结构完全相同又互相独立的数据，将引用类型进行复制，而不是只复制其引用关系。</p>
<p>深拷贝的实现方式：</p>
<ul>
<li>热门的函数库lodash,也有提供_.cloneDeep用来做深拷贝</li>
<li>jquery 提供一个 $.extend 可以用来做深拷贝</li>
<li>JSON.parse(JSON.stringify())</li>
<li>手写递归方法</li>
</ul>
<p>递归实现深拷贝的原理：</p>
<p>要拷贝一个数据，我们肯定要去便利它的属性，如果这个对象的属性仍然是对象，继续使用这个方法，如此往复。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义检测数据类型的功能函数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkedType</span> (target) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(target).<span class="title function_">slice</span>(<span class="number">8</span>, -<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现深度克隆 --- 对象/数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clone</span> (target) &#123;</span><br><span class="line">    <span class="comment">// 判断拷贝的数据类型</span></span><br><span class="line">    <span class="comment">// 初始化变量 result 成为最终克隆的数据</span></span><br><span class="line">    <span class="keyword">let</span> result,</span><br><span class="line">        targetType = <span class="title function_">checkedType</span>(target);</span><br><span class="line">    <span class="keyword">if</span> (targetType === <span class="string">&#x27;Object&#x27;</span>) &#123;</span><br><span class="line">        result = &#123;&#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (targetType === <span class="string">&#x27;Array&#x27;</span>) &#123;</span><br><span class="line">        result = []</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> target</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 遍历目标函数</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> target) &#123;</span><br><span class="line">        <span class="comment">// 获取遍历数据结构的每一项值</span></span><br><span class="line">        <span class="keyword">let</span> value = target[i];</span><br><span class="line">        <span class="comment">// 判断目标结构中的每一项值是否存在对象/数组</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">checkedType</span>(value) === <span class="string">&#x27;Object&#x27;</span> || <span class="title function_">checkedType</span>(value) === <span class="string">&#x27;Array&#x27;</span>) &#123;</span><br><span class="line">            <span class="comment">// 对象/数组里嵌套了对象/数组</span></span><br><span class="line">            <span class="comment">// 继续遍历获取到value值</span></span><br><span class="line">            result[i] = <span class="title function_">clone</span>(value)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 获取到value值最基本的数据类型或者是函数</span></span><br><span class="line">            result[i] = value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="作用域和闭包"><a href="#作用域和闭包" class="headerlink" title="作用域和闭包"></a>作用域和闭包</h2><h3 id="执行上下文和执行栈"><a href="#执行上下文和执行栈" class="headerlink" title="执行上下文和执行栈"></a>执行上下文和执行栈</h3><h3 id="作用域与作用域链"><a href="#作用域与作用域链" class="headerlink" title="作用域与作用域链"></a>作用域与作用域链</h3><h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><h3 id="this全面解析"><a href="#this全面解析" class="headerlink" title="this全面解析"></a>this全面解析</h3><h2 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h2><h3 id="同步-vs-异步"><a href="#同步-vs-异步" class="headerlink" title="同步 vs 异步"></a>同步 vs 异步</h3><h3 id="异步和单线程"><a href="#异步和单线程" class="headerlink" title="异步和单线程"></a>异步和单线程</h3><h3 id="前端异步的场景"><a href="#前端异步的场景" class="headerlink" title="前端异步的场景"></a>前端异步的场景</h3><h3 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h3><h2 id="原型链与继承"><a href="#原型链与继承" class="headerlink" title="原型链与继承"></a>原型链与继承</h2><h3 id="原型与原型链"><a href="#原型与原型链" class="headerlink" title="原型与原型链"></a>原型与原型链</h3><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><h2 id="DOM操作与BOM操作"><a href="#DOM操作与BOM操作" class="headerlink" title="DOM操作与BOM操作"></a>DOM操作与BOM操作</h2><h3 id="DOM操作"><a href="#DOM操作" class="headerlink" title="DOM操作"></a>DOM操作</h3><h3 id="DOM事件模型和事件流"><a href="#DOM事件模型和事件流" class="headerlink" title="DOM事件模型和事件流"></a>DOM事件模型和事件流</h3><blockquote>
<p>事件冒泡</p>
</blockquote>
<h3 id="事件代理-事件委托"><a href="#事件代理-事件委托" class="headerlink" title="事件代理(事件委托)"></a>事件代理(事件委托)</h3><h3 id="BOM操作"><a href="#BOM操作" class="headerlink" title="BOM操作"></a>BOM操作</h3><p>BOM (浏览器对象模型)是浏览器本身的一些信息的设置和获取，例如获取浏览器的宽度、高度，设置让浏览跳转到哪个地址。</p>
<ul>
<li>window.screen 对象：包含有关用户屏幕的信息</li>
<li>window.loaction 对象：用于获得当前页面的地址(URL), 并把浏览器重定向到新页面</li>
<li>window.history 对象：浏览器历史的前进后退等</li>
<li>window.navigator 对象：常常用来获取浏览器信息、是否移动端访问等等</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取屏幕的宽度和高度</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(screen.<span class="property">width</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(screen.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取网站、协议、path、参数、hash等</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 例如当前网址是 https://www.baidu.com/s?ie=utf-8&amp;f=8</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(location.<span class="property">href</span>)      <span class="comment">// https://www.baidu.com/s?ie=utf-8&amp;f=8#some</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(location.<span class="property">protocol</span>)  <span class="comment">// https:</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(location.<span class="property">pathname</span>)  <span class="comment">// /s</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(location.<span class="property">search</span>)    <span class="comment">// ?ie=utf-8&amp;f=8</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(location.<span class="property">hash</span>)      <span class="comment">// #some</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 浏览器的前进、后退功能</span></span><br><span class="line"></span><br><span class="line">history.<span class="title function_">back</span>()</span><br><span class="line">history.<span class="title function_">forward</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取浏览器特性 (即俗称的UA) 然后识别客户端，例如判断是不是Chrome浏览器</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ua = navigator.<span class="property">userAgent</span></span><br><span class="line"><span class="keyword">var</span> isChrome = ua.<span class="title function_">indexOf</span>(<span class="string">&#x27;Chrome&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(isChrome)</span><br></pre></td></tr></table></figure>
<h3 id="Ajax-与跨域"><a href="#Ajax-与跨域" class="headerlink" title="Ajax 与跨域"></a>Ajax 与跨域</h3><p>Ajax是一种异步请求数据的一种技术手段，对于改善用户的体验和程序的性能很有帮助。</p>
<h3 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h3><h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><p>几种常见模块化规范的简介：</p>
<ul>
<li>CommonJS 规范主要用于服务端编程，加载模块是同步的，这个并不适合在浏览器环境，因为同步意味着阻塞加载，浏览器资源是异步加载的，因此有了AMD CMD解决方案。</li>
<li>AMD 规范在浏览器环境中异步加载模块，而且可以并行加载多个模块。不过，AMD规范开发成本高，代码阅读和书写比较困难，模块定义方式的语义不顺畅。</li>
<li>CMD规范与AMD规范很相似。都是用于浏览器编程，依赖就近，延迟执行，可以很容易在node.js中运行。不过依赖SPM打包，模块的加载逻辑偏重ES6在语言标准的层面上，实现了模块功能，而且实现的相当简单，完全可以取代CommonJS和AMD规范，成为了浏览器和服务器通用的模块解决方案。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/js/ajax/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/js/ajax/" class="post-title-link" itemprop="url">Ajax</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 19:03:08 / 修改时间：19:35:03" itemprop="dateCreated datePublished" datetime="2022-07-01T19:03:08+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h1><p>Ajax(Asynchronous JavaScript and XML),是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。</p>
<h2 id="原生请求"><a href="#原生请求" class="headerlink" title="原生请求"></a>原生请求</h2><p>把用户的信息提交到服务器，并把服务器的响应输出</p>
<p><strong>XMLHttpRequest对象是Ajax技术的核心所在</strong></p>
<ol>
<li>生成请求对象，XMLHTTPReQuest，通过该对象和服务器交互</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">XMLHttpReQuest</span>) &#123;</span><br><span class="line">    <span class="comment">//非IE</span></span><br><span class="line">    xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpReQuest</span>();</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    xhr = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&#x27;Microsoft.XMLHTTP&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>使用open，设置请求方式以及请求的地址，参数名必须和服务器保持一致<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = <span class="string">&#x27;http://192.168.1.118:3000/?user=&#x27;</span>+username+<span class="string">&#x27;&amp;pwd=&#x27;</span>+pwdValue;</span><br><span class="line"><span class="comment">//参数1：请求方式 GET POST</span></span><br><span class="line"><span class="comment">//参数2：请求资源的地址</span></span><br><span class="line"><span class="comment">//参数3：是否异步请求，true,false</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>,url,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure></li>
<li>设置请求过程的监控</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//xhr.readyState == 0   初始化中</span></span><br><span class="line">    <span class="comment">//xhr.readyState == 1   调用open</span></span><br><span class="line">    <span class="comment">//xhr.readyState == 2   调用send发送请求</span></span><br><span class="line">    <span class="comment">//xhr.readyState == 3   正在接收数据</span></span><br><span class="line">    <span class="comment">//xhr.readyState == 4   服务器响应完毕</span></span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> == <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="comment">//服务器返回的状态码判断</span></span><br><span class="line">        <span class="keyword">if</span> (xhr.<span class="property">readyState</span> == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">//输出服务器响应的信息</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>发送请求</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="title function_">send</span>();</span><br></pre></td></tr></table></figure>
<h3 id="原生Ajax方法"><a href="#原生Ajax方法" class="headerlink" title="原生Ajax方法"></a>原生Ajax方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> javascriptAjax = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 判断参数是否为空</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">data</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">var</span> isObject = <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">typeof</span> data === <span class="string">&#x27;object&#x27;</span> ? (<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data) === <span class="string">&#x27;&#123;&#125;&#x27;</span> ? <span class="literal">false</span> : <span class="literal">true</span>) : <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 配置参数</span></span><br><span class="line"><span class="comment">	 * 参数对象转换为字符串拼接</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">obj</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">var</span> setParamsConfig = <span class="keyword">function</span> (<span class="params">obj</span>) &#123;</span><br><span class="line">		<span class="keyword">var</span> dataStr = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">		<span class="keyword">if</span> (<span class="title function_">isObject</span>(obj)) &#123;</span><br><span class="line">			<span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">				dataStr += key + <span class="string">&#x27;=&#x27;</span> + obj[key] + <span class="string">&#x27;&amp;&#x27;</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> dataStr;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//1.生成请求对象，XMLHTTPReQuest，通过该对象和服务器交互</span></span><br><span class="line">	<span class="keyword">var</span> createXHR = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">var</span> xhr = <span class="literal">null</span>;</span><br><span class="line">		<span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>) &#123;</span><br><span class="line">			xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();	<span class="comment">//非IE</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			xhr = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> xhr;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//2.使用open，设置请求方式以及请求的地址，参数名必须和服务器保持一致</span></span><br><span class="line">	<span class="keyword">var</span> setRequestMethod = <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span><br><span class="line">		<span class="keyword">var</span> xhr = <span class="title function_">createXHR</span>();</span><br><span class="line">		<span class="keyword">var</span> type = params.<span class="property">type</span> ? params.<span class="property">type</span> : <span class="string">&#x27;get&#x27;</span>;</span><br><span class="line">		<span class="keyword">var</span> url = params.<span class="property">url</span> ? params.<span class="property">url</span> : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">		<span class="keyword">var</span> <span class="keyword">async</span> = params.<span class="property">async</span> ? params.<span class="property">async</span> : <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">switch</span> (type)&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;get&#x27;</span>:</span><br><span class="line">				url += <span class="string">&#x27;?&#x27;</span>+ <span class="title function_">setParamsConfig</span>(params.<span class="property">data</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;post&#x27;</span>:</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="attr">default</span>:</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		xhr.<span class="title function_">open</span>(type, url, <span class="keyword">async</span>);</span><br><span class="line">		<span class="keyword">return</span> xhr;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//3.设置请求过程的监控</span></span><br><span class="line">	<span class="keyword">var</span> listenRequestProcess = <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span><br><span class="line">		<span class="keyword">var</span> xhr = <span class="title function_">setRequestMethod</span>(params);</span><br><span class="line">		xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">					params.<span class="title function_">success</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">response</span>))</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> xhr;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//4.发送请求</span></span><br><span class="line">	<span class="keyword">var</span> sendAjax = <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span><br><span class="line">		<span class="keyword">var</span> xhr = <span class="title function_">listenRequestProcess</span>(params);</span><br><span class="line">		<span class="keyword">if</span> (<span class="title function_">isObject</span>(params.<span class="property">data</span>)) &#123;</span><br><span class="line">			xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-type&quot;</span>,<span class="string">&quot;application/x-www-form-urlenconded&quot;</span>);</span><br><span class="line">			xhr.<span class="title function_">send</span>(<span class="title function_">setParamsConfig</span>(params.<span class="property">data</span>));</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			xhr.<span class="title function_">send</span>();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> sendAjax;</span><br><span class="line">	</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>调用方式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">javascriptAjax</span>(&#123;</span><br><span class="line">	<span class="attr">type</span>:<span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">	<span class="attr">url</span>: <span class="string">&#x27;data/ajax.json&#x27;</span>,</span><br><span class="line">	<span class="attr">async</span>: <span class="literal">true</span>,</span><br><span class="line">	<span class="attr">data</span>: &#123;</span><br><span class="line">		<span class="attr">username</span>: <span class="string">&#x27;zhangsan&#x27;</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h2 id="Jsonp请求"><a href="#Jsonp请求" class="headerlink" title="Jsonp请求"></a>Jsonp请求</h2><blockquote>
<p>jsonp请求需要后台配合吗？</p>
</blockquote>
<p>答案是肯定的。jsonp请求后端必须做配置，否则同样无法获取到数据。</p>
<blockquote>
<p>jsonp的缺点</p>
</blockquote>
<ul>
<li>需要后台代码做处理，改动后台代码</li>
<li>只能使用get请求方式处理jsonp请求</li>
<li>发送的不是XMLHttpRequest请求</li>
</ul>
<h3 id="jsonp前台需要做的处理"><a href="#jsonp前台需要做的处理" class="headerlink" title="jsonp前台需要做的处理"></a>jsonp前台需要做的处理</h3><blockquote>
<p>使用jQuery库</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">	<span class="attr">url</span>: <span class="string">&#x27;http://localhost:8080/test/get&#x27;</span>,</span><br><span class="line">	<span class="attr">dataType</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">	<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用原生方式</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonpCallback = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//通过DOM操作在body中追加script标签，使用script标签src属性的特性进行做跨域请求</span></span><br><span class="line">	<span class="comment">//src的特性： 不存在跨域问题，src连接可以无限制的跨域，不受浏览器同源策略限制</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">var</span> createScript = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">var</span> scriptTag = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//添加一个回调函数(必须的),与后台返回请求数据做处理</span></span><br><span class="line">		</span><br><span class="line">		scriptTag.<span class="property">src</span> = <span class="string">&#x27;http://localhost:8080/test/get/?callback=headle&#x27;</span>; </span><br><span class="line">		scriptTag.<span class="property">type</span> = <span class="string">&#x27;text/javascript&#x27;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(scriptTag);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> createScript;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> headle = <span class="keyword">function</span> (<span class="params">json</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> json;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">jsonpCallback</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> response = <span class="title function_">headle</span>();    <span class="comment">//获取跨域请求返回的数据</span></span><br></pre></td></tr></table></figure>
<h3 id="http常见的状态码"><a href="#http常见的状态码" class="headerlink" title="http常见的状态码"></a>http常见的状态码</h3><p>101: 切换协议，服务器根据客户端请求切换协议</p>
<p><strong>200: 请求成功。一般用于GET和POST请求</strong></p>
<p><strong>301: 永久重定向</strong></p>
<p><strong>302: 临时重定向</strong></p>
<p>303: 与301类似。使用GET和POST请求查看</p>
<p><strong>304: 请求资源未修改，使用缓存</strong></p>
<p>307: 与302类似。使用GET请求重定向</p>
<p><strong>404: 客户端请求失败</strong></p>
<p>408: 请求超时</p>
<p><strong>500: 内部服务器错误，无法完成请求</strong></p>
<p>505: 服务器不支持请求的HTTP协议的版本，无法完成处理</p>
<h3 id="HTTP请求头信息"><a href="#HTTP请求头信息" class="headerlink" title="HTTP请求头信息"></a>HTTP请求头信息</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Accept</span>: 客户端支持的数据类型</span><br><span class="line"><span class="title class_">Accept</span>-<span class="title class_">Charset</span>: 客户端采用的编码</span><br><span class="line"><span class="title class_">Accept</span>-<span class="title class_">Encoding</span>: 客户端支持的数据压缩格式</span><br><span class="line"><span class="title class_">Accept</span>-<span class="title class_">Language</span>: 客户端的语言环境</span><br><span class="line"><span class="title class_">Cookie</span>: 客户端的cookie</span><br><span class="line"><span class="title class_">Host</span>: 请求的服务器地址</span><br><span class="line"><span class="title class_">Contention</span>: 客户端与服务端连接类型</span><br><span class="line"><span class="title class_">If</span>-<span class="title class_">Modified</span>-<span class="title class_">Since</span>: 上一次请求资源的缓存时间，与<span class="title class_">Last</span>-<span class="title class_">Modified</span>对应</span><br><span class="line"><span class="title class_">If</span>-<span class="title class_">None</span>-<span class="title class_">Match</span>: 客户端缓存数据的唯一标识，与<span class="title class_">Etag</span>对应</span><br><span class="line"><span class="title class_">Referer</span>: 发起请求的源地址</span><br></pre></td></tr></table></figure>
<h3 id="HTTP的响应头信息"><a href="#HTTP的响应头信息" class="headerlink" title="HTTP的响应头信息"></a>HTTP的响应头信息</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">content-<span class="attr">encoding</span>: 响应数据的压缩格式</span><br><span class="line">content-<span class="attr">length</span>: 响应数据的长度</span><br><span class="line">content-<span class="attr">language</span>: 语言环境</span><br><span class="line">content-<span class="attr">type</span>: 响应数据的类型</span><br><span class="line"><span class="title class_">Date</span>: 消息发送的时间</span><br><span class="line"><span class="title class_">Age</span>: 经过的时间</span><br><span class="line"><span class="title class_">Etag</span>: 被请求变量的实体值，用于判断请求资源是否发生变化</span><br><span class="line"><span class="title class_">Expires</span>: 缓存的过期时间</span><br><span class="line"><span class="title class_">Last</span>-<span class="title class_">Modified</span>: 在服务器端最后被修改的时间</span><br><span class="line"><span class="attr">server</span>: 服务器的型号</span><br><span class="line"><span class="title class_">Pragma</span>: 是否缓存(http1<span class="number">.0</span>提出)</span><br><span class="line"><span class="title class_">Cache</span>-<span class="title class_">Control</span>：是否缓存(http1<span class="number">.1</span>提出)</span><br></pre></td></tr></table></figure>
<h4 id="与缓存相关的字段"><a href="#与缓存相关的字段" class="headerlink" title="与缓存相关的字段"></a>与缓存相关的字段</h4><ol>
<li>强缓存 expire 和 cache-control</li>
<li>对比缓存 Last-Mondified 和 If-Modified-Since Etag 和 If-None-Match</li>
</ol>
<h3 id="Ajax的优缺点："><a href="#Ajax的优缺点：" class="headerlink" title="Ajax的优缺点："></a>Ajax的优缺点：</h3><blockquote>
<ol>
<li>优点：</li>
</ol>
</blockquote>
<ul>
<li>页面无刷新，在页面内与服务器通信，减少用户等待时间，增强了用户体验。</li>
<li>使用异步方式与服务器通信，响应速度更快。</li>
<li>可以把一些原本服务器的工作转接到客户端，利用客户端闲置的能力来处理，减轻了服务器和宽带的负担，节约空间和宽带租用成本。</li>
<li>基于标准化的并被广泛支持的技术，不需要下载插件或者小程序。</li>
</ul>
<blockquote>
<ol>
<li>缺点：</li>
</ol>
</blockquote>
<ul>
<li>无法进行操作的后腿，既不支持浏览器的页面后退。</li>
<li>对搜索引擎的支持比较弱。</li>
<li>可能会影响程序中的异常处理机制。</li>
<li>安全问题，对一些网站攻击，如scrf、xxs、sql注入等不能很好的防御。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/example/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/example/" class="post-title-link" itemprop="url">示例</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 19:01:15 / 修改时间：19:33:47" itemprop="dateCreated datePublished" datetime="2022-07-01T19:01:15+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/example/" itemprop="url" rel="index"><span itemprop="name">example</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h1><h2 id="小例子"><a href="#小例子" class="headerlink" title="小例子"></a>小例子</h2><blockquote>
<p>js实现保存HTML到本地</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fake_click</span>(<span class="params">obj</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> ev = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(<span class="string">&quot;MouseEvents&quot;</span>);</span><br><span class="line"></span><br><span class="line">    ev.<span class="title function_">initMouseEvent</span>(</span><br><span class="line">        <span class="string">&quot;click&quot;</span>, <span class="literal">true</span>, <span class="literal">false</span>, <span class="variable language_">window</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        , <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="number">0</span>, <span class="literal">null</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">    obj.<span class="title function_">dispatchEvent</span>(ev);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">export_raw</span>(<span class="params">name, data</span>) &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> urlObject = <span class="variable language_">window</span>.<span class="property">URL</span> || <span class="variable language_">window</span>.<span class="property">webkitURL</span> || <span class="variable language_">window</span>;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">var</span> export_blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([data]);</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">var</span> save_link = <span class="variable language_">document</span>.<span class="title function_">createElementNS</span>(<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line"></span><br><span class="line">   save_link.<span class="property">href</span> = urlObject.<span class="title function_">createObjectURL</span>(export_blob);</span><br><span class="line"></span><br><span class="line">   save_link.<span class="property">download</span> = name;</span><br><span class="line"></span><br><span class="line">   <span class="title function_">fake_click</span>(save_link);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> link = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"></span><br><span class="line">link.<span class="property">innerText</span> = <span class="string">&#x27;保存HTML到本地&#x27;</span>;</span><br><span class="line"></span><br><span class="line">link.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">	<span class="title function_">export_raw</span>(<span class="string">&#x27;index.html&#x27;</span>, test);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link.<span class="title function_">clik</span>();</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/es6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/es6/" class="post-title-link" itemprop="url">ES6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 18:59:10 / 修改时间：19:33:59" itemprop="dateCreated datePublished" datetime="2022-07-01T18:59:10+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p>includes 可以识别 NaN , undefined</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="title class_">NaN</span>].<span class="title function_">includes</span>() == <span class="literal">true</span>; <span class="comment">// true</span></span><br><span class="line">[<span class="literal">undefined</span>].<span class="title function_">includes</span>() == <span class="literal">true</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidengkedev.github.io/books/2022/07/01/git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/books/images/avatar.gif">
      <meta itemprop="name" content="登峰人">
      <meta itemprop="description" content="涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/books/2022/07/01/git/" class="post-title-link" itemprop="url">GIT</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-01 18:56:58 / 修改时间：19:33:26" itemprop="dateCreated datePublished" datetime="2022-07-01T18:56:58+08:00">2022-07-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/books/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add . 添加暂存文件</span><br><span class="line">git reset xx.js 回退添加的暂存文件</span><br><span class="line">git reset HEAD 回退到上个版本之前所有添加的暂存文件</span><br></pre></td></tr></table></figure>
<blockquote>
<p>git 常用命令</p>
</blockquote>
<table>
    <thead>
        <tr>
            <td colspan="2" style="width: 300px; text-align: center;">git命令</td>
            <td>描述</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td rowspan="2">add</td>
            <td>git add xxx.html</td>
            <td>添加xxx文件到暂存区</td>
        </tr>
        <tr>
            <td>git add .</td>
            <td>添加全部文件到暂存区</td>
        </tr>
        <tr>
            <td>commit</td>
            <td>git commit -m "xxx"</td>
            <td>提交到本地仓库</td>
        </tr>
        <tr>
            <td rowspan="2">push</td>
            <td>git push origin master</td>
            <td>推送xxx到远程主仓库</td>
        </tr>
        <tr>
            <td>git push origin --delete xxx</td>
            <td>删除远程仓库xxx分支</td>
        </tr>
        <tr>
            <td>pull</td>
            <td>git pull origin master</td>
            <td>拉取远程主仓库代码</td>
        </tr>
        <tr>
            <td>clone</td>
            <td>git clone http://xxx.git</td>
            <td>克隆xxx远程仓库到本地</td>
        </tr>
        <tr>
            <td>log</td>
            <td>git log</td>
            <td>查看提交记录</td>
        </tr>
        <tr>
            <td rowspan="7">stash</td>
            <td>git stash</td>
            <td>保存所有修改到缓存区</td>
        </tr>
        <tr>
            <td>git stash save "xxx"</td>
            <td>保存所有修改到缓存区并添加保存信息</td>
        </tr>
        <tr>
            <td>git stash list</td>
            <td>查看缓存区缓存的列表</td>
        </tr>
        <tr>
            <td>git stash pop</td>
            <td>从缓存区中提取缓存内容到当前工作区</td>
        </tr>
        <tr>
            <td>git stash pop stash@{x}</td>
            <td>从缓存区中提取第x项缓存内容到当前工作区</td>
        </tr>
        <tr>
            <td>git stash clear</td>
            <td>清除缓存区所有内容</td>
        </tr>
        <tr>
            <td>git stash drop stash@{x}</td>
            <td>删除缓存区中第x项缓存内容</td>
        </tr>
        <tr>
            <td rowspan="3">reset</td>
            <td>git reset --hard xxx</td>
            <td>回退提交到本地仓库的xxx版本</td>
        </tr>
        <tr>
            <td>git reset xx.html</td>
            <td>回退添加到暂存区的xx.html文件</td>
        </tr>
        <tr>
            <td>git reset HEAD</td>
            <td>回退到上个版本之前所有添加的暂存文件</td>
        </tr>
        <tr>
            <td rowspan="2">checkout</td>
            <td>git checkout xxx</td>
            <td>切换到xxx分支</td>
        </tr>
        <tr>
            <td>git checkout -b xxx</td>
            <td>新建xxx分支</td>
        </tr>
        <tr>
            <td rowspan="4">branch</td>
            <td>git branch</td>
            <td>查看本地分支</td>
        </tr>
        <tr>
            <td>git branch -a</td>
            <td>查看所有分支</td>
        </tr>
        <tr>
            <td>git branch -d xxx</td>
            <td>删除xxx分支</td>
        </tr>
        <tr>
            <td>git branch -D xxx</td>
            <td>强删除xxx分支</td>
        </tr>
        <tr>
            <td>merge</td>
            <td>git merge xxx</td>
            <td>xxx分支内容合并到当前分支</td>
        </tr>
        <tr>
            <td rowspan="5">diff</td>
            <td>git diff</td>
            <td>查看所有本地改动与仓库的差异</td>
        </tr>
        <tr>
            <td>git diff xxx.html</td>
            <td>查看本地指定文件与本地仓库的差异</td>
        </tr>
        <tr>
            <td>git diff master dev</td>
            <td>查看master分支与dev分支的所有差异</td>
        </tr>
        <tr>
            <td>git diff master dev --stat</td>
            <td>查看master分支与dev分支所有差异的文件列表</td>
        </tr>
        <tr>
            <td>git diff master dev xxx.html</td>
            <td>查看指定文件xxx.html在master分支与dev分支上的差异</td>
        </tr>
    </tbody>
</table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/books/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/books/">1</a><span class="page-number current">2</span><a class="page-number" href="/books/page/3/">3</a><a class="extend next" rel="next" href="/books/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">登峰人</p>
  <div class="site-description" itemprop="description">涉猎的主要编程语言为 JavaScript、HTML、CSS、Vue、React、NodeJs、Nginx、Linux、MySQL、Vite、Webpack、Echarts、Three 等。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/books/archives/">
        
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/books/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/books/tags/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">登峰人</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/books/lib/anime.min.js"></script>
  <script src="/books/lib/pjax/pjax.min.js"></script>
  <script src="/books/lib/velocity/velocity.min.js"></script>
  <script src="/books/lib/velocity/velocity.ui.min.js"></script>

<script src="/books/js/utils.js"></script>

<script src="/books/js/motion.js"></script>


<script src="/books/js/schemes/pisces.js"></script>


<script src="/books/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/books/js/local-search.js"></script>













    <div id="pjax">
  

  

    </div>
</body>
</html>
